[gcode_macro MPC_HOTEND_PID]
description: Runs the MPC heater tuning with the given temp settings and fan breaks
gcode:
    {% set TEMP = params.TEMP | default(200) | float %}
    {% set FAN = params.FAN_BREAKS | default(3) | int %}
    MPC_CALIBRATE HEATER=extruder FAN_BREAKPOINTS={FAN} TARGET={TEMP}

[gcode_macro BED_PID]
description: Run heater tuning for the bed
gcode:
    {% set TEMP = params.TEMP | default(70) | float %}
    PID_CALIBRATE HEATER=heater_bed TARGET={TEMP}